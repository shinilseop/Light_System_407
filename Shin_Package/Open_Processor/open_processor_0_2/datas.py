# 제어조건(변형가능)
import pandas as pd

path = 'D:\\BunkerBuster\\Desktop\\shin_excel\\24시작\\new_index'

led_lock_range = 2  # LED 잠금시 잠굴 범위 값
similar_led_range = 1  # 방향성고려나 제어조도기준 선정할 때 영향도의 비슷한 범위를 위한 값
object_illum = 500
isFinish = True
first_matched = False
is_exit=[False]
satisfy_flag = [True]
has_control_before = [True]
save_folder = "0"
accel = 1  # 5도 나쁘지 않을것 같음 다만 방향성고려가 제어에 들어가야 될듯함.
lock_step = 2

# 저장 변수
df_record = []
led_state_case_limit = []
illum_add = []
illum_change_time = []
illum_satisfy_time = []

# new led control index
led_control = [[0, 0, 0, 0], [0, 16, 0, 0], [0, 14, 6, 0], [0, 14, 7, 0], [0, 13, 9, 0], [0, 14, 8, 0], [0, 15, 7, 0],
               [0, 15, 8, 0], [0, 16, 8, 0], [0, 16, 9, 0], [0, 16, 10, 0], [0, 17, 9, 0], [0, 17, 10, 0],
               [0, 18, 11, 0], [0, 18, 12, 0], [0, 19, 11, 0], [0, 19, 12, 0], [0, 20, 11, 0], [0, 20, 12, 0],
               [0, 20, 13, 0], [0, 21, 13, 0], [0, 22, 13, 0], [0, 22, 14, 0], [0, 21, 15, 0], [0, 23, 14, 0],
               [0, 25, 13, 0], [0, 24, 14, 0], [0, 23, 15, 0], [0, 25, 14, 0], [0, 24, 15, 0], [0, 25, 15, 0],
               [0, 24, 16, 0], [0, 25, 16, 0], [0, 26, 16, 0], [0, 27, 16, 0], [0, 28, 15, 0], [0, 27, 17, 0],
               [0, 28, 16, 0], [0, 28, 17, 0], [0, 29, 16, 0], [0, 29, 17, 0], [0, 29, 18, 0], [0, 30, 17, 0],
               [0, 29, 19, 0], [0, 29, 20, 0], [0, 30, 18, 0], [0, 30, 19, 0], [0, 30, 20, 0], [0, 31, 19, 0],
               [0, 30, 21, 0], [0, 31, 20, 0], [0, 31, 21, 0], [0, 32, 20, 0], [0, 32, 21, 0], [0, 31, 23, 0],
               [0, 33, 20, 0], [0, 32, 23, 0], [0, 33, 21, 0], [0, 33, 22, 0], [0, 33, 23, 0], [0, 34, 22, 0],
               [0, 34, 23, 0], [0, 35, 22, 0], [0, 34, 24, 0], [0, 34, 25, 0], [0, 35, 24, 0], [0, 34, 26, 0],
               [0, 36, 23, 0], [0, 36, 24, 0], [0, 37, 23, 0], [0, 36, 25, 0], [0, 37, 24, 0], [0, 36, 26, 0],
               [0, 37, 25, 0], [0, 37, 26, 0], [0, 38, 25, 0], [0, 37, 27, 0], [0, 39, 24, 0], [0, 38, 26, 0],
               [0, 39, 25, 0], [0, 38, 27, 0], [0, 39, 26, 0], [0, 40, 25, 0], [0, 38, 28, 0], [0, 39, 27, 0],
               [0, 41, 25, 0], [0, 39, 28, 0], [0, 40, 27, 0], [0, 41, 26, 0], [0, 40, 28, 0], [0, 39, 30, 0],
               [0, 41, 28, 0], [0, 42, 27, 0], [0, 41, 29, 0], [0, 42, 28, 0], [0, 43, 27, 0], [0, 41, 30, 0],
               [0, 42, 29, 0], [0, 42, 30, 0], [0, 43, 29, 0], [0, 43, 30, 0], [0, 44, 29, 0], [0, 44, 30, 0],
               [0, 45, 29, 0], [0, 44, 31, 0], [0, 45, 30, 0], [0, 45, 31, 0], [0, 46, 30, 0], [0, 46, 31, 0],
               [0, 47, 30, 0], [0, 46, 32, 0], [0, 47, 31, 0], [0, 48, 30, 0], [0, 47, 32, 0], [0, 49, 30, 0],
               [0, 46, 34, 0], [0, 48, 32, 0], [0, 49, 31, 0], [0, 48, 33, 0], [0, 49, 32, 0], [0, 48, 34, 0],
               [0, 49, 33, 0], [0, 50, 32, 0], [0, 50, 33, 0], [0, 49, 34, 0], [0, 49, 35, 0], [0, 50, 34, 0],
               [0, 52, 34, 0], [0, 51, 34, 0], [0, 50, 36, 0], [0, 51, 35, 0], [0, 53, 33, 0], [0, 50, 37, 0],
               [0, 52, 35, 0], [0, 54, 33, 0], [0, 52, 36, 0], [0, 53, 35, 0], [0, 54, 34, 0], [0, 53, 36, 0],
               [0, 55, 34, 0], [0, 54, 36, 0], [0, 55, 35, 0], [0, 56, 34, 0], [0, 53, 38, 0], [0, 54, 37, 0],
               [0, 55, 36, 0], [0, 55, 37, 0], [0, 56, 36, 0], [0, 55, 38, 0], [0, 56, 37, 0], [0, 58, 35, 0],
               [0, 55, 39, 0], [0, 56, 38, 0], [0, 54, 41, 0], [0, 57, 38, 0], [0, 59, 36, 0], [0, 55, 41, 0],
               [0, 57, 39, 0], [0, 60, 36, 0], [0, 56, 41, 0], [0, 58, 39, 0], [0, 59, 38, 0], [0, 60, 37, 0],
               [0, 56, 42, 0], [0, 59, 39, 0], [0, 60, 38, 0], [0, 58, 41, 0], [0, 59, 40, 0], [0, 59, 41, 0],
               [0, 60, 40, 0], [0, 62, 38, 0], [0, 58, 43, 0], [0, 59, 42, 0], [0, 61, 40, 0], [0, 62, 39, 0],
               [0, 60, 42, 0], [0, 61, 41, 0], [0, 62, 40, 0], [0, 62, 41, 0], [0, 63, 40, 0], [0, 60, 44, 0],
               [0, 62, 42, 0], [0, 63, 41, 0], [0, 63, 42, 0], [0, 64, 41, 0], [0, 61, 45, 0], [0, 63, 43, 0],
               [0, 64, 42, 0], [0, 66, 40, 0], [0, 61, 46, 0], [0, 64, 43, 0], [0, 65, 42, 0], [0, 67, 40, 0],
               [0, 64, 44, 0], [0, 65, 43, 0], [0, 68, 40, 0], [0, 64, 45, 0], [0, 66, 43, 0], [0, 68, 41, 0],
               [0, 63, 47, 0], [0, 66, 44, 0], [0, 68, 42, 0], [0, 67, 44, 0], [0, 68, 43, 0], [0, 69, 42, 0],
               [0, 67, 45, 0], [0, 68, 44, 0], [0, 69, 43, 0], [0, 66, 47, 0], [0, 67, 46, 0], [0, 68, 45, 0],
               [0, 70, 43, 0], [0, 67, 47, 0], [0, 69, 45, 0], [0, 70, 44, 0], [0, 67, 48, 0], [0, 69, 46, 0],
               [0, 71, 44, 0], [0, 68, 48, 0], [0, 69, 47, 0], [0, 70, 46, 0], [0, 72, 44, 0], [0, 69, 48, 0],
               [0, 70, 47, 0], [0, 71, 46, 0], [0, 70, 48, 0], [0, 71, 47, 0], [0, 69, 50, 0], [0, 70, 49, 0],
               [0, 72, 47, 0], [0, 69, 51, 0], [0, 73, 47, 0]]
led_control_lux = [0, 24, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 43, 44, 45, 46, 48, 49, 51, 53, 55, 56, 57,
                   58, 59, 60, 61, 62, 63, 64, 66, 67, 68, 70, 71, 72, 73, 74, 76, 78, 79, 80, 81, 82, 83, 84, 85, 86,
                   88, 89, 91, 92, 93, 94, 96, 97, 98, 100, 101, 103, 104, 105, 107, 108, 109, 110, 112, 113, 114, 115,
                   116, 117, 118, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 132, 133, 134, 135, 137, 138,
                   139, 141, 142, 143, 144, 145, 148, 149, 151, 152, 154, 155, 157, 158, 161, 162, 164, 166, 167, 168,
                   169, 170, 171, 173, 174, 175, 177, 178, 180, 181, 182, 184, 185, 186, 187, 189, 190, 193, 194, 195,
                   196, 197, 198, 200, 201, 202, 203, 204, 206, 207, 208, 209, 210, 211, 213, 214, 216, 217, 218, 219,
                   220, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 236, 237, 238, 239, 240, 241,
                   242, 243, 244, 245, 246, 247, 249, 250, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263,
                   264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284,
                   285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 299, 300, 301, 302, 303, 304, 306]

# init LED state
led_state_0 = [0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0]

# lock state
led_down_lock = [0,
                 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0]

led_up_lock = [0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0,
               0, 0, 0, 0, 0, 0]

sensor_lock = [0, 0, 0,
               0, 0, 0,
               0, 0, 0]

sensor_down_lock = [0, 0, 0,
                    0, 0, 0,
                    0, 0, 0]
sensor_up_lock = [0, 0, 0,
                  0, 0, 0,
                  0, 0, 0]
sensor_down_lock_cnt = [0]
sensor_up_lock_cnt = [0]
sensor_lock_cnt = [0]

# led inflence
sensor_influence_all = [[8, 2, 7, 9, 1, 3, 14, 15, 13],
                        [4, 3, 9, 10, 8, 5, 11, 2, 15, 16],
                        [5, 11, 12, 6, 10, 4, 17, 16, 18],
                        [14, 8, 20, 15, 13, 7, 19, 21, 9],
                        [15, 16, 9, 22, 21, 10, 14, 17, 8, 11, 20],
                        [17, 11, 23, 16, 18, 24, 22, 10, 12],
                        [20, 26, 19, 21, 27, 25, 14, 13, 15],
                        [28, 27, 21, 22, 23, 20, 29, 26, 15, 16],
                        [23, 29, 24, 28, 22, 30, 17, 16, 18]]
sensor_influence_value_all = [[94.5, 94.4, 58.3, 58.2, 58.1, 58.0, 29.4, 24.2, 24.1],
                              [76.7, 76.6, 76.6, 76.5, 38.1, 38.0, 38.0, 37.9, 26.8, 26.8],
                              [94.4, 94.4, 58.2, 58.1, 58.1, 58.0, 29.4, 24.2, 24.2],
                              [94.5, 62.1, 62.1, 58.1, 58.1, 41.2, 41.2, 41.2, 41.1],
                              [88.9, 88.3, 54.6, 54.4, 54.1, 54.0, 34.4, 34.4, 25.9, 25.8, 24.5],
                              [94.6, 62.2, 62.2, 58.2, 58.1, 41.3, 41.2, 41.1, 41.1],
                              [94.8, 94.3, 58.1, 58.1, 58.1, 58.0, 29.6, 24.2, 24.2],
                              [76.7, 76.6, 76.5, 76.5, 38.1, 38.1, 38.0, 37.9, 26.8, 26.8],
                              [94.7, 94.3, 58.2, 58.2, 58.0, 58.0, 29.5, 24.2, 24.2]]

sensor_influence_individual_part = [[8, 2, 7, 1],
                                    [4, 3, 9, 10],
                                    [5, 11, 12, 6],
                                    [14, 13],
                                    [15, 16],
                                    [17, 18],
                                    [20, 26, 19, 25],
                                    [28, 27, 21, 22],
                                    [23, 29, 24, 30]]
sensor_influence_value_individual_part = [[94.5, 94.4, 58.3, 58.1],
                                          [76.7, 76.6, 76.6, 76.5],
                                          [94.4, 94.4, 58.2, 58.1],
                                          [94.5, 58.1],
                                          [88.9, 88.3],
                                          [94.6, 58.1],
                                          [94.8, 94.3, 58.1, 58.0],
                                          [76.7, 76.6, 76.5, 76.5],
                                          [94.7, 94.3, 58.2, 58.0]]
sensor_influence_sum_part = [[8, 2, 7, 1],
                             [10, 9, 3, 4],
                             [11, 5, 12, 6],
                             [14, 13],
                             [15, 16],
                             [17, 18],
                             [20, 26, 19, 25],
                             [22, 21, 28, 27],
                             [23, 29, 24, 30]]
sensor_influence_value_sum_part = [[253.8, 181.8, 140.4, 105.5],
                                   [286.6, 286.3, 208.1, 207.5],
                                   [253.9, 181.6, 140.9, 105.5],
                                   [238.1, 140.0],
                                   [289.9, 289.3],
                                   [238.1, 140.7],
                                   [252.4, 181.6, 141.2, 105.0],
                                   [285.9, 285.6, 207.7, 207.5],
                                   [252.7, 181.4, 141.5, 105.1]]

sensor_influence_sum_part_reverse = [[1, 7, 2, 8],
                                     [4, 3, 9, 10],
                                     [6, 12, 5, 11],
                                     [13, 14],
                                     [16, 15],
                                     [18, 17],
                                     [25, 19, 26, 20],
                                     [27, 28, 21, 22],
                                     [30, 24, 29, 23]]
sensor_influence_value_sum_part_reverse = [[105.5, 140.4, 181.8, 253.8],
                                           [207.5, 208.1, 286.3, 286.6],
                                           [105.5, 140.9, 181.6, 253.9],
                                           [140.0, 238.1],
                                           [289.3, 289.9],
                                           [140.7, 238.1],
                                           [105.0, 141.2, 181.6, 252.4],
                                           [285.9, 285.6, 207.7, 207.5],
                                           [105.1, 141.5, 181.4, 252.7]]
#######################new sum part
sensor_influence_sum_part_reverse = [[1, 7, 2, 3, 8, 9],
                                     [4, 3, 9, 10],
                                     [6, 12, 5, 4, 11, 10],
                                     [13, 14, 20, 8, 15],
                                     [21, 22, 9, 10, 16, 15],
                                     [18, 17, 23, 11, 16],
                                     [25, 19, 26, 27, 20, 21],
                                     [27, 28, 21, 22],
                                     [30, 24, 29, 28, 23, 22]]
sensor_influence_value_sum_part_reverse = [[105.5, 140.4, 181.8, 208.1, 253.8, 286.3],
                                           [207.5, 208.1, 286.3, 286.6],
                                           [105.5, 140.9, 181.6, 207.5, 253.9, 286.6],
                                           [140.0, 238.1, 252.4, 253.8, 289.9],
                                           [285.6, 285.9, 286.3, 286.6, 289.3, 289.9],
                                           [140.7, 238.1, 252.7, 253.9, 289.3],
                                           [105.0, 141.2, 181.6, 207.5, 252.4, 285.6],
                                           [285.9, 285.6, 207.7, 207.5],
                                           [105.1, 141.5, 181.4, 207.7, 252.7, 285.9]]

sensor_influence_sum_all = [[15, 9, 8, 14, 3, 2, 7, 13, 1],
                            [15, 16, 10, 9, 11, 8, 3, 4, 2, 5],
                            [16, 10, 11, 17, 4, 5, 12, 18, 6],
                            [15, 9, 21, 8, 20, 14, 19, 7, 13],
                            [15, 16, 10, 9, 22, 21, 11, 8, 23, 20, 17, 14],
                            [16, 10, 22, 11, 23, 17, 24, 12, 18],
                            [15, 21, 20, 14, 27, 26, 19, 13, 25],
                            [15, 16, 22, 21, 23, 20, 28, 27, 26, 29],
                            [16, 22, 23, 17, 28, 29, 24, 18, 30]]
sensor_influence_value_sum_all = [
    [289.8907749, 286.3490037, 253.8269373, 238.0903321, 208.1389668, 181.7594834, 140.4187454, 140.0373432,
     105.4903321],
    [289.8907749, 289.3086347, 286.6149815, 286.3490037, 253.857048, 253.8269373, 208.1389668, 207.5430258, 181.7594834,
     181.6352768],
    [289.3086347, 286.6149815, 253.857048, 238.1442804, 207.5430258, 181.6352768, 140.921845, 140.7148339, 105.500369],
    [289.8907749, 286.3490037, 285.6037638, 253.8269373, 252.4343173, 238.0903321, 141.2405166, 140.4187454,
     140.0373432],
    [289.8907749, 289.3086347, 286.6149815, 286.3490037, 285.9199262, 285.6037638, 253.857048, 253.8269373, 252.7416974,
     252.4343173, 238.1442804, 238.0903321],
    [289.3086347, 286.6149815, 285.9199262, 253.857048, 252.7416974, 238.1442804, 141.5391144, 140.921845, 140.7148339],
    [289.8907749, 285.6037638, 252.4343173, 238.0903321, 207.4828044, 181.6390406, 141.2405166, 140.0373432,
     105.0349077],
    [289.8907749, 289.3086347, 285.9199262, 285.6037638, 252.7416974, 252.4343173, 207.701107, 207.4828044, 181.6390406,
     181.4069373],
    [289.3086347, 285.9199262, 252.7416974, 238.1442804, 207.701107, 181.4069373, 141.5391144, 140.7148339,
     105.0562362]]

sersor_influence_sum_all_reverse = []
sersor_influence_value_sum_all_reverse = []

sensor_influence_sum = [15, 16, 10, 9, 22, 21, 11, 8, 23, 20, 17, 14, 3, 28, 4, 27, 2, 26, 5, 29, 24, 19, 24, 19, 12,
                        18, 7, 13, 6, 1, 30, 25]
sensor_influence_value_sum = [2.898907749, 2.893086347, 2.866149815, 2.863490037, 2.859199262, 2.856037638, 2.53857048,
                              2.538269373, 2.527416974, 2.524343173,
                              2.381442804, 2.380903321, 2.081389668, 2.07701107, 2.075430258, 2.074828044, 1.817594834,
                              1.816390406, 1.816352768, 1.814069373,
                              1.415391144, 1.412405166, 1.40921845, 1.407148339, 1.404187454, 1.400373432, 1.05500369,
                              1.054903321, 1.050562362, 1.050349077]

inf_ind = [[8, 2, 7, 9, 1, 3, 14, 15, 13],
           [4, 3, 9, 10, 8, 5, 11, 2, 15, 16, 14, 17],
           [5, 11, 12, 6, 10, 4, 17, 16, 18],
           [14, 8, 20, 15, 13, 7, 19, 21, 9],
           [15, 16, 9, 22, 21, 10, 14, 17, 8, 11, 20, 23],
           [17, 11, 23, 16, 18, 24, 22, 10, 12],
           [20, 26, 19, 21, 27, 25, 14, 13, 15],
           [28, 27, 21, 22, 23, 20, 29, 26, 15, 16, 17, 14],
           [23, 29, 24, 28, 22, 30, 17, 16, 18]]

inf_ind_value = [[94.5, 94.4, 58.3, 58.2, 58.1, 58.0, 29.4, 24.2, 24.1],
                 [76.7, 76.6, 76.6, 76.5, 38.1, 38.0, 38.0, 37.9, 26.8, 26.8, 17.8, 17.7],
                 [94.4, 94.4, 58.2, 58.1, 58.1, 58.0, 29.4, 24.2, 24.2],
                 [94.5, 62.1, 62.1, 58.1, 58.1, 41.2, 41.2, 41.2, 41.1],
                 [88.9, 88.3, 54.6, 54.4, 54.1, 54.0, 34.4, 34.4, 25.9, 25.8, 24.5, 24.4],
                 [94.6, 62.2, 62.2, 58.2, 58.1, 41.3, 41.2, 41.1, 41.1],
                 [94.8, 94.3, 58.1, 58.1, 58.1, 58.0, 29.6, 24.2, 24.2],
                 [76.7, 76.6, 76.5, 76.5, 38.1, 38.1, 38.0, 37.9, 26.8, 26.8, 17.8, 17.7],
                 [94.7, 94.3, 58.2, 58.2, 58.0, 58.0, 29.5, 24.2, 24.2]]

inf_sum = [[15, 9, 8, 14, 3, 2, 7, 13, 1],
           [15, 16, 10, 9, 11, 8, 3, 4, 2, 5, 14, 17],
           [16, 10, 11, 17, 4, 5, 12, 18, 6],
           [15, 9, 21, 8, 20, 14, 19, 7, 13],
           [15, 16, 10, 9, 22, 21, 11, 8, 23, 20, 17, 14],
           [16, 10, 22, 11, 23, 17, 24, 12, 18],
           [15, 21, 20, 14, 27, 26, 19, 13, 25],
           [15, 16, 22, 21, 23, 20, 28, 27, 26, 29, 17, 14],
           [16, 22, 23, 17, 28, 29, 24, 18, 30]]
inf_sum_value = [
    [289.89, 286.34, 253.82, 238.09, 208.13, 181.75, 140.41, 140.03, 105.49],
    [289.89, 289.3, 286.61, 286.34, 253.85, 253.82, 208.13, 207.54, 181.75, 181.63, 238.09, 238.14],
    [289.3, 286.61, 253.85, 238.14, 207.54, 181.63, 140.92, 140.71, 105.5],
    [289.89, 286.35, 285.6, 253.83, 252.43, 238.09, 141.24, 140.42, 140.04],
    [289.89, 289.31, 286.61, 286.35, 285.92, 285.6, 253.86, 253.83, 252.74, 252.43, 238.14, 238.09],
    [289.31, 286.61, 285.92, 253.86, 252.74, 238.14, 141.54, 140.92, 140.71],
    [289.89, 285.6, 252.43, 238.09, 207.48, 181.64, 141.24, 140.04, 105.03],
    [289.89, 289.31, 285.92, 285.6, 252.74, 252.43, 207.7, 207.48, 181.64, 181.41, 238.14, 238.09],
    [289.31, 285.92, 252.74, 238.14, 207.7, 181.41, 141.54, 140.71, 105.06]]

inf_df = {'ind': []}
for i in range(len(inf_ind)):
    inf_df['ind'].append(pd.DataFrame([x for x in zip(inf_ind[i], inf_ind_value[i])], columns=['led', 'value']))
    inf_df['ind'][i] = inf_df['ind'][i].sort_values(by=['value'], axis=0, ascending=False)
dir_inf = []
dir_inf_temp = []
dir_inf_df = {'ind': [0]}

dir_inf_temp.append({'ind': {'right': [2, 3, 8, 9, 14, 15],
                             'rightdown': [8, 9, 14, 15],
                             'down': [7, 8, 9, 13, 14, 15]}})
dir_inf_temp.append({'ind': {'right': [4, 5, 10, 11, 16, 17],
                             'rightdown': [10, 11, 16, 17],
                             'down': [9, 10, 15, 16],
                             'leftdown': [8, 9, 14, 15],
                             'left': [2, 3, 8, 9, 14, 15]}})
dir_inf_temp.append({'ind': {'down': [10, 11, 12, 16, 17, 18],
                             'leftdown': [10, 11, 16, 17],
                             'left': [4, 5, 10, 11, 16, 17]}})
dir_inf_temp.append({'ind': {'up': [7, 8, 9, 13, 14, 15],
                             'rightup': [8, 9, 14, 15],
                             'right': [8, 9, 14, 15, 20, 21],
                             'rightdown': [14, 15, 20, 21],
                             'down': [13, 14, 15, 19, 20, 21]}})
dir_inf_temp.append({'ind': {'up': [9, 10, 15, 16],
                             'rightup': [10, 11, 16, 17],
                             'right': [10, 11, 16, 17, 22, 23],
                             'rightdown': [16, 17, 22, 23],
                             'down': [15, 16, 21, 22],
                             'leftdown': [14, 15, 20, 21],
                             'left': [8, 9, 14, 15, 20, 21],
                             'leftup': [8, 9, 14, 15]}})
dir_inf_temp.append({'ind': {'up': [10, 11, 12, 16, 17, 18],
                             'down': [16, 17, 18, 22, 23, 24],
                             'leftdown': [16, 17, 22, 23],
                             'left': [10, 11, 16, 17, 22, 23],
                             'leftup': [10, 11, 16, 17]}})
dir_inf_temp.append({'ind': {'up': [13, 14, 15, 19, 20, 21],
                             'rightup': [14, 15, 20, 21],
                             'right': [14, 15, 20, 21, 26, 27]}})
dir_inf_temp.append({'ind': {'up': [15, 16, 21, 22],
                             'rightup': [16, 17, 22, 23],
                             'right': [16, 17, 22, 23, 28, 29],
                             'left': [14, 15, 20, 21, 26, 27],
                             'leftup': [14, 15, 20, 21]}})
dir_inf_temp.append({'ind': {'up': [16, 17, 18, 22, 23, 24],
                             'left': [16, 17, 22, 23, 28, 29],
                             'leftup': [16, 17, 22, 23]}})

movement = [{'x': [0, 1],
             'y': [0, 1]},  # 1
            {'x': [0, 1, -1],
             'y': [0, 1]},  # 2
            {'x': [0, -1],
             'y': [0, 1]},  # 3
            {'x': [0, 1],
             'y': [0, 1, -1]},  # 4
            {'x': [0, 1, -1],
             'y': [0, 1, -1]},  # 5
            {'x': [0, -1],
             'y': [0, 1, -1]},  # 6
            {'x': [0, 1],
             'y': [0, -1]},  # 7
            {'x': [0, 1, -1],
             'y': [0, -1]},  # 8
            {'x': [0, -1],
             'y': [0, -1]}]  # 9
direction = {'lr': {0: '', -1: 'left', 1: 'right'},
             'ud': {0: '', -1: 'up', 1: 'down'}}

# 초기 변수 설정
wait_curr = 0
wait_illum = [0, 0, 0, 0, 0, 0, 0, 0, 0]


# 추가변수
led_state_lux = [0,
                 24, 59, 31, 32, 112, 24,
                 24, 231, 72, 72, 169, 24,
                 24, 24, 24, 24, 24, 24,
                 24, 231, 68, 68, 169, 24,
                 24, 45, 29, 29, 135, 24]

led_state_case = [
    [0,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1],
    [0,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230],
    [0,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1],
    [0,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     1, 1, 1, 1, 1, 1,
     230, 230, 230, 230, 230, 230,
     230, 230, 230, 230, 230, 230]]
led_state_case_limit = [300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300]
led_max_state = [0,
                 1, 4, 1, 2, 5, 1,
                 1, 9, 4, 4, 7, 1,
                 1, 1, 1, 1, 1, 1,
                 1, 9, 3, 3, 8, 2,
                 1, 4, 1, 2, 8, 2]
led_state_lux = [0,
                 24, 51, 24, 28, 104, 24,
                 24, 236, 72, 73, 173, 24,
                 24, 24, 24, 24, 24, 24,
                 24, 230, 68, 66, 170, 24,
                 24, 43, 28, 29, 127, 24]

led_state_lux = [0,
                 24, 98, 46, 37, 139, 24,
                 24, 200, 78, 73, 139, 24,
                 24, 24, 24, 24, 24, 24,
                 24, 201, 68, 66, 148, 24,
                 24, 88, 28, 45, 166, 24]



led_state = [0,
             1, 1, 1, 1, 1, 1,
             1, 1, 1, 1, 1, 1,
             1, 1, 1, 1, 1, 1,
             1, 1, 1, 1, 1, 1,
             1, 1, 1, 1, 1, 1]
illum_add = [100, 200, 200,
             0, 100, 200,
             0, 0, 100]
illum_add = [0, 0, 0,
             0, 0, 0,
             0, 0, 0]